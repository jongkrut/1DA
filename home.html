<ion-view>

<ion-nav-bar class="navbar" align-title="center">
	<ion-nav-buttons side="left">
		<button class="button-clear" ng-click="toggleLeft()">
			<i class="ion-navicon-round icon-header"> FATBURGER </i>
		</button>
	</ion-nav-buttons>

	<ion-nav-buttons side="right">
		<button class="button-clear" ng-click="toPromo()">
			<i class="icon ion-star" style="font-size:20px;color:black"></i>
		</button>
	</ion-nav-buttons>
</ion-nav-bar>

<ion-content  style="background-color:#eee;background:url(img/bg2.png);background-size:cover">

	<div style="width:100%;float:left;text-align:center;margin:20px 0 0 0;float:left">
		<img src="img/fatlogo.png" style="width:200px;"/>
	</div>


	<div ng-show="logged_in" ng-hide="newAddress">
		<div align="center" style="margin:10px;">
			<fieldset>
				<legend align="center" class="font_oswald_normal_300" style="font-size:18px;"> WELCOME BACK </legend>
				<font style="color:#ffd909; font-weight:bold; font-size:24px;" class="font_oswald_normal_300"> {{customer.customer_name}} </font><br/>
				<div ng-hide="defaultAddress==''">
					<font style="color:white;">
						You are using<button ng-click="openModal()" class="button-clear" style="color:#ffd909;font-weight:bold;text-decoration:underline;">{{defaultAddress.address_name}}</button>as your current search location. <br/>
					</font>
				</div>
				<font style="color:white;" > <button ng-click="openModal()" class="button-clear" ng-hide="defaultAddress==''"> Tap here to change location. </button> </font>
			</fieldset>
		</div>

		<div class="find_loc">
			<a class="button button_dark_on_yellow" ng-click="toSearch()" ng-hide="defaultAddress==''">
				<i class="icon ion-search"></i> Find Nearby Store
			</a>
		</div>

		<div class="find_loc">
			<span ng-hide="defaultAddress==''" class="font-white font_oswald_normal_300 line_legend">&nbsp;OR&nbsp;
			</span><br/>
			<span ng-hide="defaultAddress==''" class="font-white font_oswald_normal_300"> ORDER FOR DIFFERENT ADDRESS
			</span><br/>
			<button class="button button_yellow_on_dark" ng-click="newAddress=true">
				<i class="icon ion-location"></i> Create New Address
			</button>
		</div>
	</div>

	<div class="find_loc" ng-show="newAddress">
		<span class="font-white font_oswald_normal_300">
			<br/>
			TAP THE BURGER <br/>TO FIND OUR NEARBY STORE
		</span>
	</div>

	<div ng-click="toMap()" class="find_loc" ng-show="newAddress">
				<img alt="FatBurger" src="img/burgerlogo.png" id="FatBurger" style="height:200px;width:auto;"/>
	</div>

	<div class="find_loc" ng-show="newAddress">
		<span class="font-white font_oswald_normal_300 line_legend">&nbsp;OR&nbsp;</span>
	</div>

	<div class="find_loc" ng-show="newAddress">
		<div class="font-white font_oswald_normal_300" style="width:100% !important">WRITE DOWN YOUR SPECIFIC ADDRESS</div><br/>
		<a class="button button_yellow_on_dark" ui-sref="location-search" style="margin-top:15px;width:170px"><i class="icon ion-edit"></i>  Enter Address </a>
	</div>

</ion-content>
</ion-view>


<script id="chooseAddress-modal.html" type="text/ng-template">
  <ion-modal-view>
    <ion-header-bar>
      <h1 class="title">Choose Your Address</h1>
    </ion-header-bar>
    <ion-content>
    	<div class="list padding">
			<ion-radio ng-repeat="item in addresses"
                   ng-value="item.address_id"
                   ng-model="data.selected"
                   name="server-side"
				   ng-switch on="item.address_type">
					<addrType ng-switch-when="1">
						<h2>Kantor</h2>
						<p>	{{item.address_name}} <br/>
							{{item.tower_division}} {{item.floor}} <br/>
						    {{item.address_content}}
							{{item.room_unit}}
						</p>
					</addrType>
					<addrType ng-switch-when="2">
						<h2>Rumah</h2>
						<p>	{{item.address_name}}
						    {{item.address_content}}
						</p>
					</addrType>
					<addrType ng-switch-when="3">
						<h2>Apartment</h2>
						<p>	{{item.address_name}} <br/>
							{{item.tower_division}} {{item.floor}} {{item.room_unit}} <br/>
						    {{item.address_content}}
						</p>
					</addrType>
					<addrType ng-switch-when="4">
						<h2>Hotel</h2>
						<p>	{{item.address_name}}
						    {{item.floor}} {{item.room_unit}} <br/>
						    {{item.address_content}}
						</p>
					</addrType>
					<addrType ng-switch-when="5">
						<h2>Ruko/Rukan</h2>
						<p> {{item.address_name}}
						    {{item.floor}} {{item.room_unit}} <br/>
							{{item.address_content}}
						</p>
					</addrType>
					<addrType ng-switch-when="6">
						<h2>Kost</h2>
						<p>	{{item.address_name}}
						    {{item.floor}} {{item.room_unit}} <br/>
							{{item.address_content}}
						</p>
					</addrType>
			</ion-radio>
       	</div>
    </ion-content>
    <ion-footer-bar>
    	<div class="button-bar">
    		<button class="button button-calm button_dark_on_yellow" style="border: 1px solid #3d3d3d !important;" ng-click="closeModal()">Cancel</button>
    		<button class="button button-balanced button_dark_on_yellow" style="border: 1px solid #3d3d3d !important;" ng-click="applyModal()">OK</button>
    	</div>
    </ion-footer-bar>
  </ion-modal-view>
</script>
